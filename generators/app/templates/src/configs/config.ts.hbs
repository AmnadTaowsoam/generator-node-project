// generators/app/templates/src/configs/config.ts.hbs

/**
 * BOILERPLATE STUB
 * Configuration loader for environment variables.
 * - ปรับ PATH ให้ตรงกับโครงสร้างโปรเจกต์ของคุณ
 * - เพิ่มค่าตัวแปรอื่น ๆ ตามต้องการ
 */

import * as dotenv from 'dotenv';
import { join } from 'path';
import { Algorithm } from 'jsonwebtoken';

// โหลดค่าจากไฟล์ .env (ไฟล์ .env จะถูกคัดลอกมาให้อัตโนมัติ)
dotenv.config({ path: join(__dirname, '../../.env') });

// Database
export const DB_HOST = process.env.DB_HOST!;
export const DB_PORT = Number(process.env.DB_PORT) || 5432;
export const DB_NAME = process.env.DB_NAME!;
export const DB_USER = process.env.DB_USER!;
export const DB_PASSWORD = process.env.DB_PASSWORD!;

// ถ้ามี DATABASE_URL ให้ใช้เลย ไม่งั้นคอนสตรัคท์ใหม่
export const DATABASE_URL =
  process.env.DATABASE_URL ||
  `postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}`;

// Server
export const PORT = Number(process.env.PORT) || 3000;

// JWT
export const JWT_SECRET = process.env.JWT_SECRET_KEY!;
export const ACCESS_TOKEN_EXPIRE_MINUTES =
  Number(process.env.TOKEN_EXPIRATION_MINUTES) || 1440;
export const REFRESH_TOKEN_EXPIRE_DAYS =
  Number(process.env.REFRESH_TOKEN_EXPIRE_DAYS) || 7;
export const ALGORITHM: Algorithm =
  (process.env.ALGORITHM as Algorithm) || 'HS256';

// TODO: เพิ่มการตั้งค่าอื่น ๆ เช่น
// - CORS_ALLOW_ORIGINS
// - LOG_LEVEL
// - TIMEOUTS
// - API_KEYS

